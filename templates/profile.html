{% extends "layout.html" %} 
{% block content %}
<div class = "card signUP mr-4">
    <!-- </div class="mt-2">     -->
        <legend class="mt-4 mx-4">Profile!</legend>
        <div class="d-flex flex-row">
            <img class="ms-2 me-4" src="{{ profile_pic }}" style="width: 100px; height: 100px; border-radius: 100%;">
            <div class="p-2 col ms-2">
                <h6 class="text-center">Followers</h6>
                <p class="text-center">{{ current_user.followers}}</p>
            </div>
            <div class="p-2 col text-center">
                <h6 class="text-center">Following</h6>
                <p class="text-center">{{ current_user.following }}</p>
            </div>
            <div class="p-2 col">
                <h6 class="text-center"><a class="nav-link" href="{{url_for('userBlogs')}}">Posts</a></h6>
                <p class="text-center">{{ current_user.posts }}</p>
            </div>
        </div>
        <form action = '', method = "POST" enctype="multipart/form-data">
            {{ form.csrf_token }}
            {{ form.hidden_tag() }}
            <div class="mb-4 mx-4">
                <label class="form-label">User Name</label>
                {% if form.user_name.errors %}
                    {{ form.user_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.user_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                {% else %}
                    {{ form.user_name(class="form-control form-control-lg") }}
                {% endif %}
            </div>
            <div class="mb-4 mx-4">
                <label class="form-label">First Name</label>
                {% if form.first_name.errors %}
                    {{ form.first_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.first_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                {% else %}
                    {{ form.first_name(class="form-control form-control-lg") }}
                {% endif %}
            </div>
            <div class="mb-4 mx-4">
                <label class="form-label">Last Name</label>
                {% if form.last_name.errors %}
                    {{ form.last_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.last_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                {% else %}
                    {{ form.last_name(class="form-control form-control-lg") }}
                {% endif %}
            </div>
            <div class="mb-4 mx-4">
                <label class="form-label">Email</label>
                {% if form.email.errors %}
                    {{ form.email(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                {% else %}
                    {{ form.email(class="form-control form-control-lg") }}
                {% endif %}
            </div>
            <div class="mb-4 mx-4">
                <label class="form-label">Update Profile Picture</label><br>
                {{ form.profile_pic(class="form-control-file")}}
                {% if form.profile_pic.errors %}
                    {% for error in form.email.errors %}
                    <span class="text-danger">{{ error }}</span><br>
                    {% endfor %}
                {% endif %}
            </div>
            <div class="form-group mb-4">
                {{ form.submit(class="btn btn-outline-info") }}
            </div>
        </form>
    <!-- </div> -->
</div>
{% endblock content %}
